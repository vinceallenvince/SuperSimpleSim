/*! SuperSimpleSim v1.1.8 - 2014-06-16 11:06:22 
Vince Allen |Brooklyn, NY | vince@vinceallen.com | @vinceallenvince | License: MIT */
!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);throw new Error("Cannot find module '"+g+"'")}var j=c[g]={exports:{}};b[g][0].call(j.exports,function(a){var c=b[g][1][a];return e(c?c:a)},j,j.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b){function c(a){if(!a)throw new Error("Item requires a System.");this.system=a,this.world=document.body,c._idCount++}var d=a("./Vector").Vector;c._idCount=0,c._stylePosition="transform: translate3d(<x>px, <y>px, 0) rotate(<angle>deg) scale(<scale>, <scale>); -webkit-transform: translate3d(<x>px, <y>px, 0) rotate(<angle>deg) scale(<scale>, <scale>); -moz-transform: translate3d(<x>px, <y>px, 0) rotate(<angle>deg) scale(<scale>, <scale>); -o-transform: translate3d(<x>px, <y>px, 0) rotate(<angle>deg) scale(<scale>, <scale>); -ms-transform: translate3d(<x>px, <y>px, 0) rotate(<angle>deg) scale(<scale>, <scale>);",c.prototype.init=function(a){var b,e=a||{};for(b in e)e.hasOwnProperty(b)&&(this[b]=e[b]);this.width="undefined"==typeof e.width?10:e.width,this.height="undefined"==typeof e.height?10:e.height,this.scale=e.scale||1,this.angle=e.angle||0,this.color=e.color||[0,0,0],this.mass="undefined"==typeof e.mass?10:e.mass,this.acceleration=e.acceleration||new d,this.velocity=e.velocity||new d,this.location=e.location||new d(this.world.scrollWidth/2,this.world.scrollHeight/2),this.maxSpeed="undefined"==typeof e.maxSpeed?10:e.maxSpeed,this.minSpeed=e.minSpeed||0,this.bounciness=e.bounciness||.5,this._force=new d,this.checkWorldEdges="undefined"==typeof e.checkWorldEdges?!0:e.checkWorldEdges,this.color[0]=parseInt(this.color[0],10),this.color[1]=parseInt(this.color[1],10),this.color[2]=parseInt(this.color[2],10),this.name=e.name||"Item",this.id=this.name+c._idCount,this.el=document.createElement("div"),this.el.id=this.id,this.el.className="item "+this.name.toLowerCase(),this.world.appendChild(this.el)},c.prototype.step=function(){this.applyForce(this.system.gravity),this.applyForce(this.system.wind),this.velocity.add(this.acceleration),this.velocity.limit(this.maxSpeed,this.minSpeed),this.location.add(this.velocity),this.checkWorldEdges?this._checkWorldEdges():this._wrapWorldEdges(),this.acceleration.mult(0)},c.prototype.applyForce=function(a){return a?(this._force.x=a.x,this._force.y=a.y,this._force.div(this.mass),this.acceleration.add(this._force),this.acceleration):void 0},c.prototype._checkWorldEdges=function(){var a=this.world.scrollWidth,b=this.world.scrollHeight,c=this.location,d=this.velocity,e=this.width,f=this.height,g=this.bounciness;c.x+e/2>a?(c.x=a-e/2,d.x*=-1*g):c.x<e/2&&(c.x=e/2,d.x*=-1*g),c.y+f/2>b?(c.y=b-f/2,d.y*=-1*g):c.y<f/2&&(c.y=f/2,d.y*=-1*g)},c.prototype._wrapWorldEdges=function(){var a=this.world.scrollWidth,b=this.world.scrollHeight,c=this.location,d=this.width,e=this.height;c.x+d/2>a?c.x=d/2:c.x<d/2&&(c.x=a-d/2),c.y+e/2>b?c.y=e/2:c.y<e/2&&(c.y=b-e/2)},c.prototype.draw=function(){var a=this.getCSSText({x:this.location.x-this.width/2,y:this.location.y-this.height/2,angle:this.angle,scale:this.scale||1,width:this.width,height:this.height,color0:this.color[0],color1:this.color[1],color2:this.color[2]});this.el.style.cssText=a},c.prototype.getCSSText=function(a){return c._stylePosition.replace(/<x>/g,a.x).replace(/<y>/g,a.y).replace(/<angle>/g,a.angle).replace(/<scale>/g,a.scale)+"width: "+a.width+"px; height: "+a.height+"px; background-color: rgb("+a.color0+", "+a.color1+", "+a.color2+")"},b.exports.Item=c},{"./Vector":4}],2:[function(a,b){var c=a("./Item").Item,d=a("./Vector").Vector;window.requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame;var e={name:"System"};e.Classes={},e.gravity=new d(0,1),e.wind=new d,e._records=[],e.setup=function(a){a.call(this)},e.add=function(a,b){var d=this._records,f=b||{};d.push(e.Classes[a]?new e.Classes[a](this):new c(this)),d[d.length-1].init(f)},e.loop=function(){var a,b=e._records,c=e._records.length;for(a=c-1;a>=0;a-=1)b[a].step();for(a=c-1;a>=0;a-=1)b[a].draw();"undefined"!=typeof window.requestAnimationFrame&&window.requestAnimationFrame(e.loop)},b.exports.System=e},{"./Item":1,"./Vector":4}],3:[function(a,b){var c={name:"Utils"};c.extend=function(a,b){function c(){}c.prototype=b.prototype,a.prototype=new c,a.prototype.constructor=a},c.getRandomNumber=function(a,b,c){return c?Math.random()*(b-(a-1))+a:Math.floor(Math.random()*(b-(a-1)))+a},c.map=function(a,b,c,d,e){var f=(a-b)/(c-b);return f*(e-d)+d},b.exports.Utils=c},{}],4:[function(a,b){function c(a,b){var c=a||0,d=b||0;this.x=c,this.y=d}c.VectorSub=function(a,b){return new c(a.x-b.x,a.y-b.y)},c.VectorAdd=function(a,b){return new c(a.x+b.x,a.y+b.y)},c.VectorMult=function(a,b){return new c(a.x*b,a.y*b)},c.VectorDiv=function(a,b){return new c(a.x/b,a.y/b)},c.VectorDistance=function(a,b){return Math.sqrt(Math.pow(b.x-a.x,2)+Math.pow(b.y-a.y,2))},c.VectorMidPoint=function(a,b){return c.VectorAdd(a,b).div(2)},c.VectorAngleBetween=function(a,b){var c=a.dot(b),d=Math.acos(c/(a.mag()*b.mag()));return d},c.prototype.name="Vector",c.prototype.clone=function(){function a(){}return a.prototype=this,new a},c.prototype.add=function(a){return this.x+=a.x,this.y+=a.y,this},c.prototype.sub=function(a){return this.x-=a.x,this.y-=a.y,this},c.prototype.mult=function(a){return this.x*=a,this.y*=a,this},c.prototype.div=function(a){return this.x=this.x/a,this.y=this.y/a,this},c.prototype.mag=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},c.prototype.limit=function(a,b){var c=a||null,d=b||null;return c&&this.mag()>c&&(this.normalize(),this.mult(c)),d&&this.mag()<d&&(this.normalize(),this.mult(d)),this},c.prototype.normalize=function(){var a=this.mag();return 0!==a?this.div(a):void 0},c.prototype.distance=function(a){return Math.sqrt(Math.pow(a.x-this.x,2)+Math.pow(a.y-this.y,2))},c.prototype.rotate=function(a){var b=Math.cos(a),c=Math.sin(a),d=this.x,e=this.y;return this.x=d*b-e*c,this.y=d*c+e*b,this},c.prototype.midpoint=function(a){return c.VectorAdd(this,a).div(2)},c.prototype.dot=function(a){return this.x*a.x+this.y*a.y},b.exports.Vector=c},{}],5:[function(a){var b={Item:a("./Item").Item,System:a("./System").System,Vector:a("./Vector").Vector,Utils:a("./Utils").Utils};window.SuperSimpleSim=b},{"./Item":1,"./System":2,"./Utils":3,"./Vector":4}]},{},[1,2,3,4,5]);